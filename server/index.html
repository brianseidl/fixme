<!DOCTYPE html>
<html>
<head>
  <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
  <script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
  <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
  <script>
    $(document).ready(function () {
      var socket = io();
      socket.on('update_position', function (data) {
        var x = data.x;
        var y = data.y;
        // jquery code to move div here
        $("#left").val(x);
        $("#top").val(y);
        $("#mydiv").css({
          left: x + "px",
          top: y + "px"
        });
      });

      $("#mydiv").draggable({
        drag: function (event, ui) {
          var coord = $(this).position();
          $("#left").val(coord.left);
          $("#top").val(coord.top);
          socket.emit('receive_position', {
            x: coord.left,
            y: coord.top
          });
        }
      });

    });
  </script>
  <style> 
    .dstyle
    {
        position: absolute;
        width: 50px; height: 50px;
        background: #ffb; padding: 5px;
        border: 2px solid #999;
    }
  </style>
</head>
<body>
  X: <input type="text" id="left"/>
  Y: <input type="text" id="top"/>

  <div id="mydiv" class="dstyle">drag me</div>
</body>
